function hasNull(e){for(var t in e)
if(null===e[t])return!0;return!1}
function round_to(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}
function blurOut(e,t){13===e.keyCode&&t.blur()}
function answerFocus(){x2.focus()}
const a=document.getElementById("a"),b=document.getElementById("b"),c=document.getElementById("c"),x1=document.getElementById("x1"),x2=document.getElementById("x2"),coefficients=[a,b,c];nums={};for(var i=0;i<coefficients.length;i++)coefficients[i].addEventListener("change",e=>{var t=parseFloat(e.target.value),n=e.target.id;isNaN(t)?nums[n]=null:nums[n]=t,document.getElementById("spit-error-msg").innerHTML="&nbsp;",checkAndUpdate()});function checkAndUpdate(){if(!(nums.hasOwnProperty("a")&&nums.hasOwnProperty("b")&&nums.hasOwnProperty("c")))return-2;if(hasNull(nums))return-1;var e=nums.a,t=nums.b,n=nums.c;document.getElementById("solving-for").classList.remove("not-visible");var o=e>=0?"":"- ";o+="<b>"+Math.abs(e)+"</b>x<sup>2</sup>",o+=t>=0?" + ":" - ",o+="<b>"+Math.abs(t)+"</b>x",o+=n>=0?" + ":" - ",o+="<b>"+Math.abs(n)+"</b> = 0",document.getElementById("your-equation").innerHTML=o,document.getElementById("your-equation").classList.remove("not-visible"),0===e&&(document.getElementById("spit-error-msg").innerHTML="Equation is <b>linear</b> if <b>a</b> is 0."),calculateRootsAndDisplay(e,t,n)}
function calculateRootsAndDisplay(e,t,n){var o=document.getElementById("your-disc");if(0===e)return x1.value=round_to(-1*n/t,8),x2.value="Only one solution",document.getElementById("your-disc").classList.add("not-visible"),document.getElementById('step-by-step-solution').innerHTML="Equation is linear!",!1;o.classList.remove("not-visible");var s=Math.pow(t,2)-4*e*n;if(0===s)return o.innerHTML="Discriminant <b>=</b> 0, <b>Repeated</b> roots",x1.value=x2.value=round_to(-1*t/(2*e),8),showStepByStepSolution(e,t,n),0;s>0?(x1.value=round_to((-1*t+Math.sqrt(s))/(2*e),8),x2.value=round_to((-1*t-Math.sqrt(s))/(2*e),8),o.innerHTML="Discriminant <b>></b> 0, <b>Real</b> roots",showStepByStepSolution(e,t,n)):(x1.value=round_to(-1*t/(2*e),5)+" + "+round_to(Math.abs(Math.sqrt(-s)/(2*e)),5)+"i",x2.value=round_to(-1*t/(2*e),5)+" - "+round_to(Math.abs(Math.sqrt(-s)/(2*e)),5)+"i",o.innerHTML="Discriminant <b><</b> 0, <b>Complex</b> roots",showStepByStepSolution(e,t,n))}
function clearValues(){a.value="",b.value="",c.value="",x1.value="",x2.value="",nums={},document.getElementById("solving-for").classList.add("not-visible"),document.getElementById("your-equation").classList.add("not-visible"),document.getElementById("your-disc").classList.add("not-visible"),document.getElementById("spit-error-msg").innerHTML="&nbsp;",document.getElementById('step-by-step-solution').innerHTML=`Quadratic formula $$ x_{1,2} = {-b \\pm \\sqrt{b^2-4ac} \\over 2a }$$`;MathJax.Hub.Queue(["Typeset",MathJax.Hub,"step-by-step-solution"])}
function copiedToClipBoard(e,t){document.getElementById(e).select(),document.execCommand("copy"),t.innerHTML="COPIED",t.style.color="#008CBA",setTimeout(function(){var e=document.getElementsByClassName("copy");Object.values(e).forEach(e=>{e.innerHTML="COPY",e.style.color="#545c6d"})},1500)}
function showStepByStepSolution(A,B,C){var solutionSpace=document.getElementById('step-by-step-solution');var template=`Entered values are$$a = ${A}, \\enspace b = ${B}, \\enspace c = ${C} $$`;template+='Solving using quadratic formula';template+=`$$ x_{1,2} = {-b \\pm \\sqrt{b^2-4ac} \\over 2a }$$`;template+=`$$ x_{1,2} = {-(${B}) \\pm \\sqrt{(${B})^2 - 4(${A})(${C})} \\over 2(${A})} $$`;var B1=-1*B,bSq=Math.pow(B,2),fAC=-1*4*A*C,A2=2*A;var sy=(fAC>0)?' + ':' - ';template+=`$$ x_{1,2} = {${B1} \\pm \\sqrt{${bSq}${sy}${Math.abs(fAC)} }\\over ${2*A}} $$`;template+=`$$ x_{1,2} = {${B1} \\pm \\sqrt{${bSq + fAC} }\\over ${2*A}} $$`;solutionSpace.innerHTML=template;MathJax.Hub.Queue(["Typeset",MathJax.Hub,"step-by-step-solution"]);return-1}
