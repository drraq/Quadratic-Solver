function hasNull(e){for(var t in e)if(null===e[t])return!0;return!1}function round_to(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function simplify(e){if(!1===/\W/.test(Math.sqrt(e)))return Math.sqrt(e).toString();var t;for(i=e;void 0===t&&i>=1;i--)!1===/\W/.test(e/i)&&!1===/\W/.test(Math.sqrt(i))&&(t=i);var n=Math.sqrt(t)+" sqrt "+e/t;return!0===/[NaN]/.test(n)||n==="1 sqrt "+e?"sqrt "+e:n}function blurOut(e,t){13===e.keyCode&&t.blur()}function answerFocus(e){3!==Object.keys(nums).length||hasNull(nums)?document.getElementById("spit-error-msg").innerHTML="Enter proper set of values, please.":(x2.focus(),e.blur())}var gcd=(e,t)=>t?gcd(t,e%t):Math.abs(e);const a=document.getElementById("a"),b=document.getElementById("b"),c=document.getElementById("c"),x1=document.getElementById("x1"),x2=document.getElementById("x2"),coefficients=[a,b,c];nums={};for(var i=0;i<coefficients.length;i++)coefficients[i].addEventListener("change",e=>{var t=parseFloat(e.target.value),n=e.target.id;isNaN(t)?nums[n]=null:nums[n]=t,document.getElementById("spit-error-msg").innerHTML="&nbsp;",checkAndUpdate()});function checkAndUpdate(){if(!(nums.hasOwnProperty("a")&&nums.hasOwnProperty("b")&&nums.hasOwnProperty("c")))return-2;if(hasNull(nums))return-1;var e=nums.a,t=nums.b,n=nums.c;document.getElementById("solving-for").classList.remove("not-visible");var r=e>=0?"":"- ";r+="<b>"+Math.abs(e)+"</b>x<sup>2</sup>",r+=t>=0?" + ":" - ",r+="<b>"+Math.abs(t)+"</b>x",r+=n>=0?" + ":" - ",r+="<b>"+Math.abs(n)+"</b> = 0",document.getElementById("your-equation").innerHTML=r,document.getElementById("your-equation").classList.remove("not-visible"),0===e&&(document.getElementById("spit-error-msg").innerHTML="Equation is <b>linear</b> if <b>a</b> is 0."),calculateRootsAndDisplay(e,t,n),populateAdditionalInfo(e,t,n)}function calculateRootsAndDisplay(e,t,n){var r=document.getElementById("your-disc");if(0===e)return x1.value=round_to(-1*n/t,8),x2.value="Only one solution",document.getElementById("your-disc").classList.add("not-visible"),document.getElementById("step-by-step-solution").innerHTML="Equation is linear!",!1;r.classList.remove("not-visible");var a=Math.pow(t,2)-4*e*n;if(0===a)return r.innerHTML="Discriminant <b>=</b> 0, <b>Repeated</b> roots",x1.value=x2.value=round_to(-1*t/(2*e),8),showStepByStepSolution(e,t,n),0;a>0?(x1.value=round_to((-1*t+Math.sqrt(a))/(2*e),8),x2.value=round_to((-1*t-Math.sqrt(a))/(2*e),8),r.innerHTML="Discriminant <b>></b> 0, <b>Real</b> roots",showStepByStepSolution(e,t,n)):(x1.value=round_to(-1*t/(2*e),5)+" + "+round_to(Math.abs(Math.sqrt(-a)/(2*e)),5)+"i",x2.value=round_to(-1*t/(2*e),5)+" - "+round_to(Math.abs(Math.sqrt(-a)/(2*e)),5)+"i",r.innerHTML="Discriminant <b><</b> 0, <b>Complex</b> roots",showStepByStepSolution(e,t,n))}function clearValues(e){a.value="",b.value="",c.value="",x1.value="",x2.value="",nums={},document.getElementById("solving-for").classList.add("not-visible"),document.getElementById("your-equation").classList.add("not-visible"),document.getElementById("your-disc").classList.add("not-visible"),document.getElementById("spit-error-msg").innerHTML="&nbsp;",document.getElementById("step-by-step-solution").innerHTML="Quadratic formula $$ x_{1,2} = {-b \\pm \\sqrt{b^2-4ac} \\over 2a }$$",MathJax.Hub.Queue(["Typeset",MathJax.Hub,"step-by-step-solution"]),e.blur(),document.getElementById("disc").innerHTML="",document.getElementById("vertex").innerHTML="",document.getElementById("eq-line").innerHTML="",document.getElementById("minMax").innerHTML=""}function copiedToClipBoard(e,t){document.getElementById(e).select(),document.execCommand("copy"),t.innerHTML="COPIED",t.style.color="#008CBA",setTimeout(function(){var e=document.getElementsByClassName("copy");Object.values(e).forEach(e=>{e.innerHTML="COPY",e.style.color="#545c6d"})},1500)}function showStepByStepSolution(e,t,n){var r=document.getElementById("step-by-step-solution"),a=`Entered values are$$a = ${e}, \\enspace b = ${t}, \\enspace c = ${n} $$`;a+="Solving using quadratic formula",a+="$$ x_{1,2} = {-b \\pm \\sqrt{b^2-4ac} \\over 2a }$$",a+=`$$ x_{1,2} = {-(${t}) \\pm \\sqrt{(${t})^2 - 4(${e})(${n})} \\over 2(${e})} $$`;var o=-1*t,s=Math.pow(t,2),$=-4*e*n,i=2*e,u=s+$,l=simplify(Math.abs(u)).split(" sqrt ");a+=`$$ x_{1,2} = {${o} \\pm \\sqrt{${s}${$>0?" + ":" - "}${Math.abs($)} }\\over ${2*e}} $$`,a+=`$$ x_{1,2} = {${o} \\pm \\sqrt{${u} }\\over ${2*e}} $$`;var d=o/gcd(o,i),m=i/gcd(o,i);0==u&&(a+=d%m==0?`$$ x_{1,2} = ${d/m} $$`:d<0&&m<0?`$$ x_{1,2} = { ${Math.abs(d)} \\over ${Math.abs(m)}} $$`:d<0||m<0?`$$ x_{1,2} = -{${Math.abs(d)} \\over ${Math.abs(m)}} $$`:`$$ x_{1,2} = { ${d} \\over ${m}} $$`);var c=u<0?"\\, i":"";if(0!=u)if(2===l.length){var b=gcd(i,gcd(o,l[0]));b=Number.isInteger(b)?b:1;var p=l[0]/b,M=i/b,v=1==p?"":p;a+=`$$ x_{1,2} = {${o} \\pm ${l[0]}\\sqrt{${l[1]} } ${c} \\over ${i}} $$`,1!=b&&(a+=`$$ x_{1,2} = {${o/b} \\pm ${v}\\sqrt{${l[1]}} ${c}`,a+=1==M?"}$$":`\\over ${M} }$$`)}else"s"===l[0][0]&&u<0?a+=`$$ x_{1,2} = {${o} \\pm \\sqrt{${Math.abs(u)} } ${c} \\over ${i}} $$`:parseFloat(l[0])&&(a+=`$$ x_{1,2} = {${o} \\pm ${l[0]} ${c} \\over ${i}} $$`);if(u>0&&1===l.length&&parseFloat(l[0])){var y=o+parseFloat(l[0]),x=o-parseFloat(l[0]),g=gcd(y,i),h=gcd(x,i);if(g=Number.isInteger(g)?g:1,h=Number.isInteger(h)?h:1,a+=`$$ x_1 = { ${o} + ${parseFloat(l[0])} \\over ${i}} \\;,\\; x_2 = { ${o} - ${parseFloat(l[0])} \\over ${i} } $$`,a+=`$$ x_1 = { ${y} \\over ${i}} \\;,\\; x_2 = { ${x} \\over ${i} } $$`,1!==g||1!==h){var f=x<0&&i<0||x>0&&i>0?"":"-";a+=y%i?`$$ x_1 = ${y<0&&i<0||y>0&&i>0?"":"-"}{ ${Math.abs(y/g)} \\over ${Math.abs(i/g)} } \\;,\\;`:`$$ x_1 = ${y/i} \\;,\\;`,a+=x%i?` x_2 = ${f}{${Math.abs(x/h)} \\over ${Math.abs(i/h)} } $$`:` x_2 = ${x/i} $$`}}return u<0&&1===l.length&&parseFloat(l[0])&&(b=gcd(o,gcd(l[0],i)),M=i/(b=Number.isInteger(b)?b:1),a+=`$$ x_{1,2} = {${o/b} \\pm ${l[0]/b} ${c}`,a+=1==M?"}$$":`\\over ${M} }$$`),r.innerHTML=a,MathJax.Hub.Queue(["Typeset",MathJax.Hub,"step-by-step-solution"]),-1}function populateAdditionalInfo(e,t,n){if(0===e)return document.getElementById("disc").innerHTML="",document.getElementById("vertex").innerHTML="",document.getElementById("eq-line").innerHTML="",document.getElementById("minMax").innerHTML="",!1;var r=document.getElementById("disc");r.innerHTML=`$$ (${t})^2 - 4 (${e}) (${n})$$`,r.innerHTML+=`$$ \\bbox[3pt,border:1px solid grey]{${Math.pow(t,2)-4*e*n}}$$`;var a=document.getElementById("vertex");a.innerHTML=`$$ \\left(\\frac{-(${t})}{2(${e})} \\, , \\, \\frac{-(${t})^2}{4(${e})} + ${n}\\right)$$`,a.innerHTML+=`$$ \\bbox[3pt,border:1px solid grey]{\\left(${-t/2*e} \\, , \\, ${-Math.pow(t,2)/4*e+n}\\right)}$$`;var o=document.getElementById("eq-line");o.innerHTML=`$$ x =\\frac{-(${t})}{2(${e})}$$`,o.innerHTML+=`$$ \\bbox[3pt,border:1px solid grey]{x = ${-t/2*e}}$$`;var s=document.getElementById("minMax");s.innerHTML=`$$ \\frac{-(${t})^2}{4(${e})} + ${n}$$`,s.innerHTML+=`$$ \\bbox[3pt,border:1px solid grey]{${-Math.pow(t,2)/4*e+n}}$$`,s.innerHTML+=e>0?"Minimum value, parabola opens up":"Maximum value, parabola opens down",MathJax.Hub.Queue(["Typeset",MathJax.Hub,"disc"]),MathJax.Hub.Queue(["Typeset",MathJax.Hub,"vertex"]),MathJax.Hub.Queue(["Typeset",MathJax.Hub,"eq-line"]),MathJax.Hub.Queue(["Typeset",MathJax.Hub,"minMax"])}
